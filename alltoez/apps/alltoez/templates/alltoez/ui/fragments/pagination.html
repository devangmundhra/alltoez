{% load i18n %}
<div class="pagination pagination-centered">
	<ul class="pagination">
		{% if has_previous %}
			<li><a href="?page={{ previous }}">&lt; Prev</a></li>
		{% endif %}
	
		{% if show_first %}
			<li><a href="?page=1">1</a></li>
			<li><a class="ellipsis">...</a></li>
		{% endif %}
		
		{% for linkpage in page_numbers %}
			{% ifequal linkpage page.number %}
				<li class="active"><span>{{ page.number }}</span></li>
			{% else %}
				<li><a href="?page={{ linkpage }}">{{ linkpage }}</a></li>
			{% endifequal %}
		{% endfor %}
		{% if show_last %}
			<li><a class="ellipsis">...</a></li>
			<li><a href="?page=last">{{ paginator.num_pages }}</a></li>
		{% endif %}
		{% if has_next %}
			<li><a href="?page={{ next }}">Next &gt;</a></li>
		{% endif %}
	</ul>
</div>

<script>
	$(document).ready(function() {
		// Example of link override
		var query = getURLParameter('q');
		if (query !== "null") {
			$(".paging a[href!='']").each(function(i){
				var href = $(this).attr("href");
				href += "&q=" + query;
				$(this).attr("href", href);
			});
		}
	});
</script>
