var model={period:30,setVisit:function(e){$.cookie("visit",e,{expires:1,path:"/"})},setShowed:function(e){$.cookie("showed",e,{expires:1,path:"/"})},getVisit:function(){var e=$.cookie("visit");return e?new Number(e):null},getShowed:function(){var e=$.cookie("showed");return e?e=="true":!1},isDue:function(){var e=this.getVisit();if(e){var t=Date.now()-e;return this.period*1e3<t}return!1}},controller={init:function(){var e=window.isLoggedIn,t=model.getShowed();if(!e&&!t){view.init();var n=model.getVisit();n||(model.setVisit(Date.now()),model.setShowed(!1)),this.checkState()}},checkState:function(){model.isDue()?(view.render(),model.setShowed(!0)):setTimeout(controller.checkState,1e3)}},view={init:function(){this.elem=$("#loginModal"),this.elem.modal({keyboard:!0,show:!1})},render:function(){this.elem.modal("show")}};window.onload=function(){controller.init()};
