(function(){$(document).ready(function(){return $.ajax({type:"GET",url:""+similar_events_url,contentType:"application/html",dataType:"html",processData:!1,error:function(e,t,n){return console.log(""+t+" in getting similar events "+n)},success:function(e,t,n){return $(".similar-events-list").append(e)}}),$("#bookmark-action").on("click",function(e){return myevent.bookmark?$.ajax({type:"DELETE",url:myevent.bookmark,contentType:"application/json",dataType:"html",processData:!1,error:function(t,n,r){return console.log(""+n+" in unbookmarking "+r),$(e.target).button("toggle"),$(e.target).addClass("active")},success:function(e,t,n){return myevent.bookmark=""}}):$.ajax({type:"POST",url:""+bookmark_url,data:JSON.stringify({event:""+myevent.resource_uri}),contentType:"application/json",dataType:"html",processData:!1,error:function(t,n,r){return console.log(""+n+" in bookmarking event "+r),$(e.target).button("toggle"),$(e.target).removeClass("active")},success:function(e,t,n){var r;return r=JSON.parse(e),myevent.bookmark=r.resource_uri}})}),$("#done-action").on("click",function(e){return myevent.done?$.ajax({type:"DELETE",url:myevent.done,contentType:"application/json",dataType:"html",processData:!1,error:function(t,n,r){return console.log(""+n+" in marking event undone "+r),$(e.target).button("toggle"),$(e.target).addClass("active")},success:function(e,t,n){return myevent.done=""}}):$.ajax({type:"POST",url:""+done_url,data:JSON.stringify({event:""+myevent.resource_uri}),contentType:"application/json",dataType:"html",processData:!1,error:function(t,n,r){return console.log(""+n+" in marking event done "+r),$(e.target).button("toggle"),$(e.target).removeClass("active")},success:function(e,t,n){var r;return r=JSON.parse(e),myevent.done=r.resource_uri}})}),$("#share-action").on("click",function(e){return $(e.target).hasClass("active")?$("#share-info-dropdown").removeClass("visible"):$("#share-info-dropdown").addClass("visible")})})}).call(this);
