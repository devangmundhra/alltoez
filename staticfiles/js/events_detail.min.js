(function(){$(document).ready(function(){var e;return e=window.isLoggedIn,$.ajax({type:"GET",url:""+similar_events_url,contentType:"application/html",dataType:"html",processData:!1,error:function(e,t,n){return console.log(""+t+" in getting similar events "+n)},success:function(e,t,n){return $(".similar-events-list").append(e)}}),$("#bookmark-action").on("click",function(t){if(e)return myevent.bookmark?$.ajax({type:"DELETE",url:myevent.bookmark,contentType:"application/json",dataType:"html",processData:!1,error:function(e,n,r){return console.log(""+n+" in unbookmarking "+r),$(t.target).button("toggle"),$(t.target).addClass("active")},success:function(e,t,n){return myevent.bookmark=""}}):$.ajax({type:"POST",url:""+bookmark_url,data:JSON.stringify({event:""+myevent.resource_uri}),contentType:"application/json",dataType:"html",processData:!1,error:function(e,n,r){return console.log(""+n+" in bookmarking event "+r),$(t.target).button("toggle"),$(t.target).removeClass("active")},success:function(e,t,n){var r;return r=JSON.parse(e),myevent.bookmark=r.resource_uri}})}),$("#done-action").on("click",function(t){if(e&&!myevent.done)return $.ajax({type:"POST",url:""+done_url,data:JSON.stringify({event:""+myevent.resource_uri}),contentType:"application/json",dataType:"html",processData:!1,error:function(e,n,r){return console.log(""+n+" in marking event done "+r),$(t.target).button("toggle"),$(t.target).removeClass("active")},success:function(e,t,n){var r;return r=JSON.parse(e),myevent.done=r.resource_uri}})}),$("#share-action").on("click",function(e){return $(e.target).hasClass("active")?$("#share-info-dropdown").removeClass("visible"):$("#share-info-dropdown").addClass("visible")})})}).call(this);
